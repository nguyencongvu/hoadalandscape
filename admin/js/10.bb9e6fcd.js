(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"137d":function(e,t,o){"use strict";o("c2eb")},"2ff9":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("div",{staticClass:"bg-white app-padding q-pa-md"},[o("q-toolbar",[o("q-avatar",{staticClass:"q-mr-sm",attrs:{color:"secondary","text-color":"white"}},[e.selected.images?o("q-img",{attrs:{src:e.api.web+"/"+e.selected.images}}):o("div",[e._v(e._s(e.c.firstChar(e.profile.name)))])],1),o("div",[o("div",{staticClass:"text-h5 bold-font"},[e._v("\n                    "+e._s(e.profile.name)+"\n                ")]),o("div",{staticClass:"text-caption text-bold"},[e._v("#"+e._s(e.profile._id)+" | "),o("span",{staticClass:"text-secondary"},[e._v("@"+e._s(e.profile.username))])])]),o("q-space")],1)],1),o("q-separator"),o("div",{staticClass:"bg-white q-pa-sm"},[o("q-card",{attrs:{flat:""}},[o("div",{staticClass:"text-h6 bold-font"},[e._v(e._s(e.c.t("User")))]),o("q-form",{on:{submit:e.onSubmit,reset:e.onReset}},[o("div",{staticClass:"row q-col-gutter-sm"},[o("q-input",{staticClass:"col-12 col-md-6",attrs:{outlined:e.outlined,dense:"","stack-label":"",label:e.c.t("Name")+"*","lazy-rules":"",rules:e.c.valid("min-3")},model:{value:e.selected.name,callback:function(t){e.$set(e.selected,"name",t)},expression:"selected.name"}}),o("q-input",{staticClass:"col-12 col-md-6",attrs:{outlined:e.outlined,dense:"","stack-label":"",prefix:e.selected.username+" | ",label:e.c.t("Password")+"*",type:e.isPwd?"password":"text","lazy-rules":"",rules:e.c.valid("min-3")},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"person"}})]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.selected.password,callback:function(t){e.$set(e.selected,"password",t)},expression:"selected.password"}}),o("q-input",{staticClass:"col-12 col-md-6",attrs:{outlined:e.outlined,dense:"","stack-label":"",label:e.c.t("Phone"),hint:""},model:{value:e.selected.phone,callback:function(t){e.$set(e.selected,"phone",t)},expression:"selected.phone"}}),o("q-input",{staticClass:"col-12 col-md-6",attrs:{outlined:e.outlined,dense:"","stack-label":"",label:e.c.t("Email"),hint:""},model:{value:e.selected.email,callback:function(t){e.$set(e.selected,"email",t)},expression:"selected.email"}}),o("div",{staticClass:"col-12 col-md-6"},[o("q-btn",{attrs:{type:"submit",color:"primary",loading:e.loading,label:e.c.t("Save")},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-facebook")]},proxy:!0}])})],1)],1)])],1),o("q-card",{staticClass:"bg-white q-mt-md",style:"background:"+e.color.info,attrs:{flat:""}},[o("div",{staticClass:"text-h6"},[e._v(e._s(e.c.t("Screen UI")))]),o("div",{staticClass:"row q-col-gutter-md"},[o("q-input",{staticClass:"col-12 col-md-4",attrs:{outlined:e.outlined,dense:"","stack-label":"",label:e.c.t("Primary color")},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize"}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-color",{attrs:{"default-view":"palette"},on:{change:function(t){return e.changeColor()}},model:{value:e.color.primary,callback:function(t){e.$set(e.color,"primary",t)},expression:"color.primary"}})],1)],1)]},proxy:!0}]),model:{value:e.color.primary,callback:function(t){e.$set(e.color,"primary",t)},expression:"color.primary"}}),o("q-input",{staticClass:"col-12 col-md-4",attrs:{outlined:e.outlined,dense:"","stack-label":"",label:e.c.t("Secondary color")},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize"}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-color",{attrs:{"default-view":"palette"},on:{change:function(t){return e.changeColor()}},model:{value:e.color.secondary,callback:function(t){e.$set(e.color,"secondary",t)},expression:"color.secondary"}})],1)],1)]},proxy:!0}]),model:{value:e.color.secondary,callback:function(t){e.$set(e.color,"secondary",t)},expression:"color.secondary"}}),o("q-input",{staticClass:"col-12 col-md-4",attrs:{outlined:e.outlined,dense:"","stack-label":"",label:e.c.t("Background color")},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize"}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-color",{attrs:{"default-view":"palette"},on:{change:function(t){return e.changeColor()}},model:{value:e.color.info,callback:function(t){e.$set(e.color,"info",t)},expression:"color.info"}})],1)],1)]},proxy:!0}]),model:{value:e.color.info,callback:function(t){e.$set(e.color,"info",t)},expression:"color.info"}}),o("div",{staticClass:"col-12 col-md-4"},[o("q-toggle",{attrs:{color:"green",label:e.c.t("Outlined Input"),"left-label":""},model:{value:e.outlined,callback:function(t){e.outlined=t},expression:"outlined"}})],1),o("div",{staticClass:"col-12 col-md-12"},[o("q-btn",{attrs:{color:"primary",loading:e.loading,label:e.c.t("save")},on:{click:function(t){return e.saveColor()}},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-facebook")]},proxy:!0}])}),o("q-btn",{staticClass:"q-ml-sm",attrs:{outline:"",color:"secondary",loading:e.loading,label:e.c.t("Default")},on:{click:function(t){return e.resetColor()}},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-facebook")]},proxy:!0}])})],1)],1)])],1)],1)},n=[],l=o("c973"),s=o.n(l),r=(o("96cf"),o("bc78")),c={name:"Profile",data:function(){return{loading:!1,c:this.$common,db:null,api:null,isPwd:!0,collection:"user",id:null,selected:{},color:{primary:"#000000",secondary:"#333333",info:"#f8f8f8"},outlined:!0}},computed:{profile:function(){return this.$store.state.user.profile}},created:function(){this.init()},methods:{init:function(){var e=this;return s()(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=e,o.api=new o.$api(o.collection),o.api.setDomain(o.profile.domain),o.id=o.$route.params.id,o.getProfile(o.id),o.selected.images=o.selected.images?o.selected.images:"",o.loadColor(),o.loadOutlined();case 8:case"end":return t.stop()}}),t)})))()},getProfile:function(e){var t=this;t.api.get(t.collection,e).then((function(e){console.log(""),e.data.count<=0?t.loading=!1:(t.selected=e.data.objects[0],console.log(""))}))},onSubmit:function(){this.upsert(this.selected)},onReset:function(){this.selected={}},resetColor:function(){this.color={primary:"#002e5c",secondary:"#a300a3",info:"#cce6ff"},r["a"].setBrand("primary",this.color.primary),r["a"].setBrand("secondary",this.color.secondary),r["a"].setBrand("info",this.color.info)},loadColor:function(){var e=this.$q.localStorage.getItem("color");e&&(this.color=e)},loadOutlined:function(){var e=this.$q.localStorage.getItem("outlined");e&&(this.outlined=e)},changeColor:function(){r["a"].setBrand("primary",this.color.primary),r["a"].setBrand("secondary",this.color.secondary),r["a"].setBrand("info",this.color.info)},saveColor:function(){var e=this;e.$q.localStorage.remove("color"),e.$q.localStorage.set("color",e.color),e.$q.localStorage.set("outlined",e.outlined);var t=e.c.t("Screen saved");e.c.toast(t,"positive")},get:function(e){return this.db.get(e)},upsert:function(e){var t=this;return s()(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a=t,a.id){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,a.api.update(a.collection,a.id,e);case 5:a.c.toast(a.c.t("Profile Updated"),"positive");case 6:case"end":return o.stop()}}),o)})))()},fillUpload:function(e){var t=this;t.c.log(e),t.selected.images="/"+e}}},i=c,d=(o("137d"),o("2877")),u=o("65c6"),p=o("cb32"),f=o("068f"),m=o("2c91"),b=o("eb85"),v=o("f09f"),g=o("0378"),h=o("27f9"),y=o("0016"),q=o("9c40"),k=o("e669"),C=o("7cbe"),x=o("b498"),w=o("9564"),_=o("eebe"),S=o.n(_),$=Object(d["a"])(i,a,n,!1,null,"66fc702a",null);t["default"]=$.exports;S()($,"components",{QToolbar:u["a"],QAvatar:p["a"],QImg:f["a"],QSpace:m["a"],QSeparator:b["a"],QCard:v["a"],QForm:g["a"],QInput:h["a"],QIcon:y["a"],QBtn:q["a"],QSpinnerFacebook:k["a"],QPopupProxy:C["a"],QColor:x["a"],QToggle:w["a"]})},c2eb:function(e,t,o){}}]);